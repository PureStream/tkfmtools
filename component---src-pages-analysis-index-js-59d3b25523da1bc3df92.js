(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[781],{37245:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var a=t(67294),i=t(50009),l=t(83332),r=t(80838),s=t(1446),o=t(29748),c=t(17900),d=t(47378),p=t(93175),u=t(50190),m=t(60773),f=t(25072),g=t(50208),h=t(28437),b=t(79520),y=t(22776),v=t(59969),C=t.n(v),E=t(85061),w=t(68912).reduce((function(e,n,t){return e[n.tags.position-5].push({id:n.id,ind:t}),e}),(0,E.Z)(Array(5)).map((function(e){return[]}))),S=(0,i.ZP)(r.Z).withConfig({displayName:"analysis__StyledCharContainer",componentId:"sc-3odedp-0"})(["display:flex;flex-direction:row;margin-bottom:2rem;margin-right:2rem;&&{max-width:30rem;}"]),x=(0,i.ZP)(l.Z).withConfig({displayName:"analysis__CharImgWrapper",componentId:"sc-3odedp-1"})([""," &&{transition:filter 0.1s ease;}"],(function(e){return e.$owned?null:"filter: grayscale(100%);"})),Z=(0,i.ZP)(p.Z).withConfig({displayName:"analysis__CharImg",componentId:"sc-3odedp-2"})(["width:7rem;height:7rem;"]),k=(0,i.ZP)(u.Z).withConfig({displayName:"analysis__LevelInput",componentId:"sc-3odedp-3"})(["&&{input{padding:.6rem 1rem;}color:",";}"],(function(e){return e.disabled?e.theme.colors.dropdownHover:"inherit"})),O=(0,i.ZP)(u.P).withConfig({displayName:"analysis__StyledSelect",componentId:"sc-3odedp-4"})(["&&{width:100%;> div > div{padding:.6rem 1rem;padding-right:2rem;color:",";}svg{fill:",";}}"],(function(e){return e.disabled?e.theme.colors.dropdownHover:"inherit"}),(function(e){return e.disabled?e.theme.colors.dropdownHover:e.theme.colors.onSurface})),_=(0,i.ZP)(r.Z).withConfig({displayName:"analysis__SelectGrid",componentId:"sc-3odedp-5"})(["align-content:center;"]),I=(0,i.ZP)(r.Z).withConfig({displayName:"analysis__SelectWrapper",componentId:"sc-3odedp-6"})(["height:40%;"]),P=function(e){var n=e.index,t=(0,c.f)(),i=t.pageString,l=t.charString,r=(0,o.H)(),d=r.currentLineup,p=r.actions.setCurrentLineup,u=d[n],f=(0,a.useCallback)((function(e){var t=Array.from(d);t[n]=Object.assign({},e,C()(e),{owned:0!==e.level}),p(t)}),[d[n],p]),g=(0,s.Z)(u,f),h=g.selectItems,b=g.setSelect,y=g.setCharState;(0,a.useEffect)((function(){y(u)}),[u]);var v=(0,a.useCallback)((function(){var e=Array.from(d);e[n].owned=!e[n].owned,p(e)}),[d[n],p]),E=(0,a.useCallback)((function(e){return function(n){b(e,parseInt(n.target.value))}}),[b]),w=(0,a.useCallback)((function(e){return function(){b("potentialSub",e)}}),[b]);return a.createElement(S,{item:!0,xs:10,sm:6,md:5,lg:4},a.createElement(x,{onClick:v,$owned:u.owned,disableRipple:!0,disableFocusRipple:!0},a.createElement(Z,{name:"char_small_"+u.id,alt:l.name[u.id]})),a.createElement(_,{container:!0,spacing:1},a.createElement(I,{item:!0,xs:6},a.createElement(k,{label:i.analysis.index.levelTitle,value:u.level,onChange:E("level"),disabled:!u.owned,variant:"outlined",size:"small",margin:"dense"})),a.createElement(I,{item:!0,xs:6},a.createElement(O,{label:i.analysis.index.disciplineTitle,values:h.discipline.values,value:"4"===u.id[0]?"-":u.discipline,onChange:E("discipline"),disabled:!u.owned||"4"===u.id[0],margin:"dense"})),a.createElement(I,{item:!0,xs:6},a.createElement(O,{label:i.analysis.index.starTitle,values:h.star.values,value:u.star,onChange:E("star"),disabled:!u.owned,margin:"dense"})),a.createElement(I,{item:!0,xs:6},a.createElement(m.Z,{charId:u.id,label:i.analysis.index.potentialTitle,values:h.potential.values,mainValue:u.potential,subValue:u.potentialSub,onMainChange:E("potential"),onSubChange:w,disabled:!u.owned,margin:"dense"}))))},M=i.ZP.div.withConfig({displayName:"analysis__DataButtonContainer",componentId:"sc-3odedp-7"})(["position:absolute;right:0;top:-4rem;margin-bottom:0;> span:last-child button{margin:0;}"]),D=function(e){var n=e.handleData,t=e.handleModalOpen,i=(0,c.f)().pageString;return a.createElement(M,null,a.createElement(g.ZP,{onClick:n("save"),tooltipText:i.analysis.index.saveButton},h.N),a.createElement(g.ZP,{onClick:t,tooltipText:i.analysis.index.loadButton},h.Tl))},H=function(e){var n=e.handleData,t=(0,c.f)().pageString,i=(0,o.H)().localLineups;return i?i.map((function(e,i){return a.createElement(f.Z,{title:e.date,end:a.createElement(a.Fragment,null,a.createElement(g.ZP,{onClick:n("load",i),tooltipText:t.analysis.index.loadButton},h.Tl),a.createElement(g.ZP,{onClick:n("delete",i),tooltipText:t.analysis.index.deleteButton},h.pJ)),key:i})})):null},L=i.ZP.div.withConfig({displayName:"analysis__CharGroupsContainer",componentId:"sc-3odedp-8"})(["width:100%;> div:nth-child(even) > div > span{display:flex;align-items:center;margin-bottom:.4rem;}> div:nth-child(2) > div{width:100%;justify-content:space-between;}"]),N=(0,i.ZP)(p.Z).withConfig({displayName:"analysis__PositionImgWrapper",componentId:"sc-3odedp-9"})(["width:2rem;margin-right:.2rem;"]),T=function(){var e=(0,c.f)(),n=e.pageString,t=e.charString,i=(0,o.H)(),l=i.currentLineup,s=i.actions,p=s.pushLineup,u=s.getLineup,m=s.deleteLineup,g=s.setCurrentLineup,h=(0,a.useState)({isDataModalOpen:!1,isHelpModalOpen:!1,isSuccessSnackbarOpen:!1,isErrorSnackbarOpen:!1}),v=h[0],C=h[1],E=function(e,n){return function(){switch(e){case"save":if(p(l,{firebase:!0}))return void C((function(e){return Object.assign({},e,{isSuccessSnackbarOpen:!0})}));case"load":var t=u(n);if(t)return C((function(e){return Object.assign({},e,{isSuccessSnackbarOpen:!0,isDataModalOpen:!1})})),void g(t);case"delete":if(m(n))return void C((function(e){return Object.assign({},e,{isDataModalOpen:!0})}))}C((function(e){return Object.assign({},e,{isErrorSnackbarOpen:!0})}))}},S=function(e){return function(){C((function(n){return Object.assign({},n,{isDataModalOpen:e})}))}},x=function(e){return function(){C((function(n){return Object.assign({},n,{isHelpModalOpen:e})}))}},Z=["attacker","defender","healer","obsructer","supporter"];return a.createElement(L,null,a.createElement(d.Z,{title:n.analysis.index.helmet.title,description:n.analysis.index.helmet.description,path:"/analysis/"}),a.createElement(D,{handleData:E,handleModalOpen:S(!0)}),w.map((function(e,n){return a.createElement(a.Fragment,{key:n},a.createElement(f.Z,{title:t.tags[n+5],titleIcon:a.createElement(N,{name:"ui_"+Z[n],alt:""}),withHelp:0===n,onClickHelp:x(!0),border:!0}),a.createElement(r.Z,{container:!0,spacing:2},e.map((function(e){return a.createElement(P,{index:e.ind,key:e.id})}))))})),a.createElement(b.Z,{open:v.isSuccessSnackbarOpen,onClose:function(){C((function(e){return Object.assign({},e,{isSuccessSnackbarOpen:!1})}))},message:n.analysis.index.successMsg,type:"success"}),a.createElement(b.Z,{open:v.isErrorSnackbarOpen,onClose:function(){C((function(e){return Object.assign({},e,{isErrorSnackbarOpen:!1})}))},message:n.analysis.index.errorMsg,type:"error"}),a.createElement(y.WQ,{title:n.analysis.index.modalTitle,open:v.isDataModalOpen,onClose:S(!1),ariaLabelledby:"data-operation-modal-title",ariaDescribedby:"data-operation-modal-description"},a.createElement(H,{handleData:E})),a.createElement(y.p2,{title:n.analysis.index.helpModal.title,content:n.analysis.index.helpModal.content,open:v.isHelpModalOpen,onClose:x(!1),ariaLabelledby:"help-modal-title",ariaDescribedby:"help-modal-description"}))}}}]);
//# sourceMappingURL=component---src-pages-analysis-index-js-59d3b25523da1bc3df92.js.map