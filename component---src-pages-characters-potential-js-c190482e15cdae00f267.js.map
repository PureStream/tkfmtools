{"version":3,"sources":["webpack://tkfmtools/./node_modules/react-bootstrap/esm/Table.js","webpack://tkfmtools/./src/components/Card.js","webpack://tkfmtools/./src/components/Form.js","webpack://tkfmtools/./src/components/CharSelectPanel.js","webpack://tkfmtools/./src/pages/characters/potential.js","webpack://tkfmtools/./src/utils/calcCharStats.js"],"names":["Table","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","decoratedBsPrefix","classes","table","responsiveClass","StyledImg","styled","ImageSupplier","ImgWrapper","ImgCard","children","imgType","imgId","alt","isBackground","name","ItemImg","TextWrapper","ItemCard","id","itemString","useLanguage","StyledTable","theme","colors","onSurface","CardTable","StyledForm","BootstrapForm","Select","surface","secondary","NumForm","as","minNum","maxNum","onChange","defaultValue","disabled","value","Array","keys","slice","map","i","key","TwoStageForm","title","handleSelect","subMinNum","selectAttrs","defaultValues","Col","undefined","CharForm","CharContainer","CharImgWrapper","character","lumpNRChars","pageString","charString","Header","characters","potential","characterPanelTitle","titleIcon","RaceIcon","border","onSubmit","event","preventDefault","characterSelectTitle","Form","charData","char","idx","rarity","nr","MaterialWrapper","Object","entries","$layoutConfig","entry","UiImg","UiImgWrapper","layoutConfig","MaterialCard","MaterialBox","result","items","item","money","MaterialContainer","resultLayoutConfig","1360","1200","768","0","624","ResultPanel","handleModalOpen","userLanguage","resultDemandTitle","ItemIcon","withHelp","onClickHelp","resultBuffTitle","BuffIcon","buff","ATK","HP","PASSIVE","FormGutter","useState","currStage","currSub","targetStage","targetSub","isHelpModalOpen","state","setState","attr","newState","selected","target","parseInt","Math","max","calcCharPotential","round","maxStage","handelHelpModal","boolean","Head","helmet","description","path","Panels","panelsWidth","currentSelectTitle","targetSelectTitle","helpModal","open","onClose","content","ariaLabelledby","ariaDescribedby","require","potentialData","from","to","type","find","c","potentialType","stages","stage","j","pattern","rank","num","itemMap","parsedItem","toString","module","exports","level","potentialSub","discipline","star","initATK","initHP","levelBuff","disciplineBuff","starBuff","floor"],"mappings":"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","file":"component---src-pages-characters-potential-js-c190482e15cdae00f267.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nimport { useLanguage } from 'containers/LanguageProvider';\r\n\r\nimport ImageSupplier from 'components/ImageSupplier';\r\n\r\nconst StyledImg = styled(ImageSupplier)`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    background-repeat: no-repeat;\r\n`\r\nconst ImgWrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nexport const ImgCard = ({\r\n    children,\r\n    className,\r\n    imgType,\r\n    imgId,\r\n    alt,\r\n    isBackground\r\n}) => (\r\n    isBackground\r\n        ? <StyledImg\r\n            className={className}\r\n            name={`${imgType}_${imgId}`}\r\n            isBackground\r\n            alt={alt}\r\n        >\r\n            {children}\r\n        </StyledImg>\r\n        : <ImgWrapper className={className}>\r\n            <StyledImg\r\n                name={`${imgType}_${imgId}`}\r\n                alt={alt}\r\n            />\r\n            {children}\r\n        </ImgWrapper>\r\n)\r\n\r\nconst ItemImg = styled(ImgCard)`\r\n    > div:first-child {\r\n        width: 2.5rem;\r\n        height: 2.5rem;\r\n        margin-right: .4rem;\r\n        user-select: none;\r\n    }\r\n`\r\nconst TextWrapper = styled.div`\r\n    white-space: nowrap;\r\n    font-size: medium;\r\n    font-weight: normal;\r\n`\r\nexport const ItemCard = ({\r\n    className,\r\n    id\r\n}) => {\r\n    const { itemString } = useLanguage()\r\n\r\n    return (\r\n        <ItemImg\r\n            className={className}\r\n            imgType='item'\r\n            imgId={id}\r\n            alt=''\r\n        >\r\n            <TextWrapper>\r\n                {itemString.name[id]}\r\n            </TextWrapper>\r\n        </ItemImg>\r\n    )\r\n}\r\n\r\nconst StyledTable = styled(Table)`\r\n    font-size: .9rem;\r\n    color: ${props => props.theme.colors.onSurface};\r\n    margin: 0;\r\n    > tbody > tr > {\r\n        td:first-child {\r\n            padding-left: .75rem;\r\n        }\r\n    }\r\n`\r\nexport const CardTable = ({\r\n    className,\r\n    children,\r\n    striped\r\n}) => (\r\n    <StyledTable\r\n        className={className}\r\n        striped={striped}\r\n        borderless\r\n        size=\"sm\"\r\n    >\r\n        {children}\r\n    </StyledTable>\r\n)\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Col, Form as BootstrapForm } from 'react-bootstrap';\r\n\r\nexport const StyledForm = styled(BootstrapForm)`\r\n    form {\r\n        > div:last-child > div {\r\n            margin-bottom: 0;\r\n        }\r\n    }\r\n`\r\n\r\nexport const Select = styled(BootstrapForm.Control)`\r\n    && {\r\n        background-color: ${props => props.theme.colors.surface};\r\n        color: ${props => props.theme.colors.onSurface};\r\n        border-radius: .25rem;\r\n        padding: .1rem;\r\n        border: 1px solid ${props => props.theme.colors.secondary};\r\n        width: 100%;\r\n        height: 1.6rem;\r\n        &:focus {\r\n            box-shadow: 0 0 .4rem ${props => props.theme.colors.secondary};\r\n        }\r\n    }\r\n`\r\n\r\nexport const NumForm = ({\r\n    as,\r\n    minNum,\r\n    maxNum,\r\n    onChange,\r\n    defaultValue,\r\n    disabled\r\n}) => (\r\n    <BootstrapForm.Group as={as}>\r\n        <Select\r\n            as=\"select\"\r\n            value={defaultValue}\r\n            onChange={onChange}\r\n            disabled={disabled}\r\n        >\r\n            {disabled\r\n                ? <option>-</option>\r\n                : [...Array(maxNum + 1).keys()].slice(minNum)\r\n                    .map(i => <option value={i} key={i}>{i}</option>)}\r\n        </Select>\r\n    </BootstrapForm.Group>\r\n)\r\n\r\nexport const TwoStageForm = ({\r\n    title,\r\n    handleSelect,\r\n    subMinNum,\r\n    minNum,\r\n    maxNum,\r\n    selectAttrs,\r\n    defaultValues,\r\n    disabled\r\n}) => (\r\n    <>\r\n        {title}\r\n        <BootstrapForm.Row>\r\n            <NumForm\r\n                as={Col}\r\n                minNum={minNum}\r\n                maxNum={maxNum}\r\n                onChange={handleSelect(selectAttrs[0])}\r\n                defaultValue={defaultValues ? defaultValues[0] : undefined}\r\n                disabled={disabled}\r\n            />\r\n            {'–'}\r\n            <NumForm\r\n                as={Col}\r\n                minNum={subMinNum}\r\n                maxNum={6}\r\n                onChange={handleSelect(selectAttrs[1])}\r\n                defaultValue={defaultValues ? defaultValues[1] : undefined}\r\n                disabled={disabled}\r\n            />\r\n        </BootstrapForm.Row>\r\n    </>\r\n)\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Col, Form } from 'react-bootstrap';\r\n\r\nimport { useLanguage } from 'containers/LanguageProvider';\r\n\r\nimport Header from 'components/Header';\r\nimport ImageSupplier from 'components/ImageSupplier';\r\nimport { Select, StyledForm } from 'components/Form';\r\nimport { RaceIcon } from 'components/icon';\r\n\r\nimport charData from 'data/character.json';\r\n\r\nconst CharForm = styled(StyledForm)`\r\n    form {\r\n        width: 13.5rem;\r\n    }\r\n`\r\nconst CharContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n`\r\nconst CharImgWrapper = styled(ImageSupplier)`\r\n    width: 5.1rem;\r\n    margin-right: 1rem;\r\n    border: 2px solid ${props => props.theme.colors.secondary};\r\n    border-radius: .25rem;\r\n`\r\nconst CharSelectPanel = ({\r\n    children,\r\n    character,\r\n    handleSelect,\r\n    lumpNRChars,\r\n}) => {\r\n    const { pageString, charString } = useLanguage()\r\n\r\n    return (<>\r\n        <Header\r\n            title={pageString.characters.potential.characterPanelTitle}\r\n            titleIcon={RaceIcon}\r\n            border\r\n        />\r\n        <CharContainer>\r\n            <CharImgWrapper\r\n                name={`char_${character}`}\r\n                alt=''\r\n            />\r\n            <CharForm onSubmit={(event) => event.preventDefault()}>\r\n                {pageString.characters.potential.characterSelectTitle}\r\n                <Form.Row>\r\n                    <Form.Group as={Col}>\r\n                        <Select\r\n                            as=\"select\"\r\n                            onChange={handleSelect('character')}\r\n                        >\r\n                            {charData.map((char, idx) => {\r\n                                if (char.rarity < 2 && lumpNRChars) {\r\n                                    return false\r\n                                }\r\n\r\n                                return (\r\n                                    <option value={char.id} key={idx}>\r\n                                        {charString.name[char.id]}\r\n                                    </option>\r\n                                )\r\n                            })}\r\n                            {lumpNRChars &&\r\n                                <option value={'nr'} key={'nr'}>\r\n                                    {charString.name.nr}\r\n                                </option>}\r\n                        </Select>\r\n                    </Form.Group>\r\n                </Form.Row>\r\n                {children}\r\n            </CharForm>\r\n        </CharContainer>\r\n    </>)\r\n}\r\n\r\nexport default CharSelectPanel","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Panels from 'containers/Panels';\r\nimport { useLanguage } from 'containers/LanguageProvider';\r\n\r\nimport Head from 'components/Head';\r\nimport CharSelectPanel from 'components/CharSelectPanel';\r\nimport Header from 'components/Header';\r\nimport { ItemCard } from 'components/Card';\r\nimport ImageSupplier from 'components/ImageSupplier';\r\nimport { TwoStageForm } from 'components/Form';\r\nimport { TextModal } from 'components/Modal';\r\nimport { BuffIcon, ItemIcon } from 'components/icon';\r\n\r\nimport { calcCharPotential } from 'utils/calcCharStats';\r\n\r\nconst MaterialWrapper = styled.span`\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 .4rem;\r\n    margin: .2rem 0;\r\n    ${props => Object.entries(props.$layoutConfig).map(entry => (\r\n    `@media screen and (min-width: ${entry[0]}px) {\r\n            width: calc(100% / ${entry[1]});\r\n        }\r\n        `\r\n))}\r\n    > div {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`\r\nconst UiImg = styled(ImageSupplier)`\r\n    width: 1.6rem;\r\n    height: 1.6rem;\r\n    margin-right: .4rem;\r\n`\r\nconst UiImgWrapper = ({\r\n    children,\r\n    layoutConfig,\r\n    name,\r\n    alt\r\n}) => (\r\n    <MaterialWrapper\r\n        $layoutConfig={layoutConfig}\r\n    >\r\n        <div>\r\n            <UiImg\r\n                name={name}\r\n                alt={alt}\r\n            />\r\n            {children}\r\n        </div>\r\n    </MaterialWrapper>\r\n)\r\n\r\nconst MaterialCard = styled(ItemCard)`\r\n    > div:first-child {\r\n        width: 2rem;\r\n        height: 2rem;\r\n        margin-right: .4rem;\r\n    }\r\n`\r\nconst MaterialBox = ({\r\n    result,\r\n    layoutConfig\r\n}) => (<>\r\n    {result.items &&\r\n        Object.entries(result.items).map((item, idx) => (\r\n            <MaterialWrapper\r\n                key={idx}\r\n                $layoutConfig={layoutConfig}\r\n            >\r\n                <div>\r\n                    <MaterialCard\r\n                        id={item[0]}\r\n                        alt=''\r\n                    />\r\n                </div>\r\n                {item[1]}\r\n            </MaterialWrapper>\r\n        ))}\r\n    {result.items && result.money &&\r\n        <UiImgWrapper\r\n            name='money'\r\n            alt='money'\r\n            layoutConfig={layoutConfig}\r\n        >\r\n            {result.money}\r\n        </UiImgWrapper>}\r\n</>)\r\n\r\nconst MaterialContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 1rem;\r\n    min-height: 6rem;\r\n`\r\nconst resultLayoutConfig = {\r\n    'en': {\r\n        1360: 5,\r\n        1200: 4,\r\n        768: 3,\r\n        0: 2\r\n    },\r\n    'zh-TW': {\r\n        1360: 6,\r\n        1200: 5,\r\n        768: 4,\r\n        624: 3,\r\n        0: 2\r\n    }\r\n}\r\n\r\nconst ResultPanel = ({\r\n    result,\r\n    handleModalOpen\r\n}) => {\r\n    const { userLanguage, pageString } = useLanguage()\r\n\r\n    return (<>\r\n        <Header\r\n            title={pageString.characters.potential.resultDemandTitle}\r\n            titleIcon={ItemIcon}\r\n            withHelp\r\n            onClickHelp={handleModalOpen}\r\n            border\r\n        />\r\n        <MaterialContainer>\r\n            <MaterialBox\r\n                result={result}\r\n                layoutConfig={resultLayoutConfig[userLanguage]}\r\n            />\r\n        </MaterialContainer>\r\n        <Header\r\n            title={pageString.characters.potential.resultBuffTitle}\r\n            titleIcon={BuffIcon}\r\n            border\r\n        />\r\n        <UiImgWrapper\r\n            layoutConfig={resultLayoutConfig[userLanguage]}\r\n            name='ui_small_atk'\r\n            alt='ATK'\r\n        >\r\n            {`${result.buff.ATK} %`}\r\n        </UiImgWrapper>\r\n        <UiImgWrapper\r\n            layoutConfig={resultLayoutConfig[userLanguage]}\r\n            name='ui_small_hp'\r\n            alt='HP'\r\n        >\r\n            {`${result.buff.HP} %`}\r\n        </UiImgWrapper>\r\n        <UiImgWrapper\r\n            layoutConfig={resultLayoutConfig[userLanguage]}\r\n            name='ui_small_potentialPassive'\r\n            alt='Passive'\r\n        >\r\n            {`${result.buff.PASSIVE === 0 ? '-'\r\n                : result.buff.PASSIVE === 1 ? '1'\r\n                    : result.buff.PASSIVE === 2 ? '2'\r\n                        : '1 & 2'\r\n                }`}\r\n        </UiImgWrapper>\r\n    </>)\r\n}\r\n\r\nconst FormGutter = styled.div`\r\n    margin-top: 4rem;\r\n`\r\nconst Potential = () => {\r\n    const { pageString } = useLanguage()\r\n\r\n    const [state, setState] = useState({\r\n        character: '101',\r\n        currStage: 1,\r\n        currSub: 1,\r\n        targetStage: 1,\r\n        targetSub: 1,\r\n        result: {\r\n            items: undefined,\r\n            money: 0,\r\n            buff: {\r\n                ATK: 0,\r\n                HP: 0,\r\n                PASSIVE: 0\r\n            },\r\n        },\r\n        isHelpModalOpen: false,\r\n    })\r\n\r\n    const handleSelect = (attr) => (event) => {\r\n        let newState = { ...state }\r\n\r\n        const selected = event.target.value\r\n\r\n        newState[attr] = attr === 'character' ? selected : parseInt(selected)\r\n\r\n        // validate auto updated values\r\n        if (selected === 'nr') {\r\n            newState.currStage = state.currStage > 6 ? 1 : state.currStage\r\n            newState.targetStage = state.targetStage > 6 ? 1 : state.targetStage\r\n        }\r\n\r\n        // make sure target is always not smaller than current\r\n        newState.targetStage = Math.max(newState.targetStage, newState.currStage)\r\n        if (newState.targetStage === newState.currStage) {\r\n            newState.targetSub = Math.max(newState.targetSub, newState.currSub)\r\n        }\r\n\r\n        const result = calcCharPotential(\r\n            newState.character,\r\n            [newState.currStage, newState.currSub],\r\n            [newState.targetStage, newState.targetSub]\r\n        )\r\n\r\n        result.buff.ATK = Math.round(result.buff.ATK * 100) / 100\r\n        result.buff.HP = Math.round(result.buff.HP * 100) / 100\r\n\r\n        newState.result = result\r\n        setState(newState)\r\n    }\r\n\r\n    const maxStage = state.character === 'nr' ? 6 : 12\r\n\r\n    const handelHelpModal = (boolean) => () => {\r\n        setState((state) => ({\r\n            ...state,\r\n            isHelpModalOpen: boolean,\r\n        }))\r\n    }\r\n\r\n    return (<>\r\n        <Head\r\n            title={pageString.characters.potential.helmet.title}\r\n            description={pageString.characters.potential.helmet.description}\r\n            path='/characters/potential/'\r\n        />\r\n        <Panels panelsWidth={['30%', '70%']}>\r\n            <CharSelectPanel\r\n                handleSelect={handleSelect}\r\n                character={state.character}\r\n                lumpNRChars\r\n            >\r\n                <FormGutter />\r\n                <TwoStageForm\r\n                    title={pageString.characters.potential.currentSelectTitle}\r\n                    subMinNum={1}\r\n                    minNum={1}\r\n                    maxNum={maxStage}\r\n                    selectAttrs={['currStage', 'currSub']}\r\n                    handleSelect={handleSelect}\r\n                />\r\n                <TwoStageForm\r\n                    title={pageString.characters.potential.targetSelectTitle}\r\n                    subMinNum={state.currStage === state.targetStage ? state.currSub : 1}\r\n                    minNum={state.currStage}\r\n                    maxNum={maxStage}\r\n                    selectAttrs={['targetStage', 'targetSub']}\r\n                    handleSelect={handleSelect}\r\n                />\r\n            </CharSelectPanel>\r\n            <ResultPanel\r\n                result={state.result}\r\n                handleModalOpen={handelHelpModal(true)}\r\n            />\r\n        </Panels>\r\n        <TextModal\r\n            title={pageString.characters.potential.helpModal.title}\r\n            open={state.isHelpModalOpen}\r\n            onClose={handelHelpModal(false)}\r\n            content={pageString.characters.potential.helpModal.content}\r\n            ariaLabelledby=\"help-modal-title\"\r\n            ariaDescribedby=\"help-modal-description\"\r\n        />\r\n    </>)\r\n}\r\n\r\nexport default Potential","const charData = require('../data/character.json');\r\nconst potentialData = require('../data/potential.json');\r\n\r\nconst calcCharPotential = function (id, from, to) {\r\n    const result = {\r\n        items: {},\r\n        money: 0,\r\n        buff: {\r\n            ATK: 0,\r\n            HP: 0,\r\n            PASSIVE: 0\r\n        },\r\n    }\r\n    const type = (id === 'nr' || id[0] === '4' || id[0] === '3')\r\n        ? 3\r\n        : charData.find(c => c.id === id).potentialType\r\n\r\n    const stages = potentialData.type[type]\r\n    for (let i = from[0] - 1; i < to[0] - 1 + 1; i++) {\r\n        let stage = stages[i]\r\n        for (\r\n            let j = i === from[0] - 1 ? from[1] - 1 : 0;\r\n            j < (i === to[0] - 1 ? to[1] : 6);\r\n            j++\r\n        ) {\r\n            if (j < 0) continue\r\n\r\n            let id = stage.pattern[j] + stage.rank[j]\r\n            if (result.items[id]) {\r\n                result.items[id] += stage.num[j]\r\n            } else {\r\n                result.items[id] = stage.num[j]\r\n            }\r\n            result.money += (i + 1) * 8000\r\n            let buff = potentialData.itemMap[stage.pattern[j]].type\r\n            result.buff[buff] += stage.buff[j]\r\n        }\r\n    }\r\n    // parse result\r\n    let parsedItem = {}\r\n    for (const [key, value] of Object.entries(result.items)) {\r\n        let itemId = potentialData.itemMap[key[0]].id.map(id => (\r\n            key[1] === '9' ? '902'\r\n                : key[1] === '8' ? '901'\r\n                    : (parseInt(key[1]) * 100 + id).toString()\r\n        ))\r\n        for (let i of itemId) {\r\n            if (parsedItem[i]) {\r\n                parsedItem[i] += value\r\n            } else {\r\n                parsedItem[i] = value\r\n            }\r\n        }\r\n    }\r\n\r\n    result.items = parsedItem\r\n    return result\r\n}\r\n\r\nconst calcCharStats = function ({\r\n    id,\r\n    level,\r\n    potential,\r\n    potentialSub,\r\n    discipline,\r\n    star,\r\n    initATK,\r\n    initHP\r\n}) {\r\n    if (!id) {\r\n        return\r\n    }\r\n\r\n    const levelBuff = 1.1 ** (level - 1)\r\n    const { buff } = calcCharPotential(\r\n        id,\r\n        [1, 0],\r\n        [potential, potentialSub]\r\n    )\r\n    const disciplineBuff = 1 + discipline * .05\r\n    const starBuff = (star + 5) / (9 - id[0])\r\n\r\n    return ({\r\n        ATK: Math.floor(initATK * levelBuff * (1 + buff.ATK / 100) * disciplineBuff * starBuff),\r\n        HP: Math.floor(initHP * levelBuff * (1 + buff.HP / 100) * disciplineBuff * starBuff)\r\n    })\r\n}\r\n\r\nmodule.exports = calcCharStats\r\nmodule.exports.calcCharPotential = calcCharPotential"],"sourceRoot":""}