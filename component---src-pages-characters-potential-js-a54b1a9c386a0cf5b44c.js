(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[34],{8169:function(e,t,n){"use strict";var r=n(22122),a=n(19756),i=n(75900),l=n.n(i),u=n(67294),o=n(99541),m=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,m=e.striped,c=e.bordered,f=e.borderless,s=e.hover,p=e.size,d=e.variant,g=e.responsive,h=(0,a.Z)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),b=(0,o.vE)(n,"table"),y=l()(i,b,d&&b+"-"+d,p&&b+"-"+p,m&&b+"-striped",c&&b+"-bordered",f&&b+"-borderless",s&&b+"-hover"),S=u.createElement("table",(0,r.Z)({},h,{className:y,ref:t}));if(g){var v=b+"-responsive";return"string"==typeof g&&(v=v+"-"+g),u.createElement("div",{className:v},S)}return S}));t.Z=m},74772:function(e,t,n){"use strict";n.d(t,{Q:function(){return c},qg:function(){return p},cP:function(){return g}});var r=n(67294),a=n(50009),i=n(8169),l=n(57954),u=n(93175),o=(0,a.ZP)(u.Z).withConfig({displayName:"Card__StyledImg",componentId:"sc-1duszqx-0"})(["display:flex;justify-content:center;align-items:center;width:100%;background-repeat:no-repeat;"]),m=a.ZP.div.withConfig({displayName:"Card__ImgWrapper",componentId:"sc-1duszqx-1"})(["display:flex;align-items:center;justify-content:center;"]),c=function(e){var t=e.children,n=e.className,a=e.imgType,i=e.imgId,l=e.alt;return e.isBackground?r.createElement(o,{className:n,name:a+"_"+i,isBackground:!0,alt:l},t):r.createElement(m,{className:n},r.createElement(o,{name:a+"_"+i,alt:l}),t)},f=(0,a.ZP)(c).withConfig({displayName:"Card__ItemImg",componentId:"sc-1duszqx-2"})(["> div:first-child{width:2.5rem;height:2.5rem;margin-right:.4rem;user-select:none;}"]),s=a.ZP.div.withConfig({displayName:"Card__TextWrapper",componentId:"sc-1duszqx-3"})(["white-space:nowrap;font-size:medium;font-weight:normal;"]),p=function(e){var t=e.className,n=e.id,a=(0,l.f)().itemString;return r.createElement(f,{className:t,imgType:"item",imgId:n,alt:""},r.createElement(s,null,a.name[n]))},d=(0,a.ZP)(i.Z).withConfig({displayName:"Card__StyledTable",componentId:"sc-1duszqx-4"})(["font-size:.9rem;color:",";margin:0;> tbody > tr >{td:first-child{padding-left:.75rem;}}"],(function(e){return e.theme.colors.onSurface})),g=function(e){var t=e.className,n=e.children,a=e.striped;return r.createElement(d,{className:t,striped:a,borderless:!0,size:"sm"},n)}},29393:function(e,t,n){"use strict";n.d(t,{Gq:function(){return o},Ph:function(){return m},kg:function(){return c},HX:function(){return f}});var r=n(85061),a=n(67294),i=n(50009),l=n(7408),u=n(53013),o=(0,i.ZP)(u.Z).withConfig({displayName:"Form__StyledForm",componentId:"sc-1yd8swn-0"})(["form{> div:last-child > div{margin-bottom:0;}}"]),m=(0,i.ZP)(u.Z.Control).withConfig({displayName:"Form__Select",componentId:"sc-1yd8swn-1"})(["&&{background-color:",";color:",";border-radius:.25rem;padding:.1rem;border:1px solid ",";width:100%;height:1.6rem;&:focus{box-shadow:0 0 .4rem ",";}}"],(function(e){return e.theme.colors.surface}),(function(e){return e.theme.colors.onSurface}),(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.colors.secondary})),c=function(e){var t=e.as,n=e.minNum,i=e.maxNum,l=e.onChange,o=e.defaultValue,c=e.disabled;return a.createElement(u.Z.Group,{as:t},a.createElement(m,{as:"select",value:o,onChange:l,disabled:c},c?a.createElement("option",null,"-"):(0,r.Z)(Array(i+1).keys()).slice(n).map((function(e){return a.createElement("option",{value:e,key:e},e)}))))},f=function(e){var t=e.title,n=e.handleSelect,r=e.subMinNum,i=e.minNum,o=e.maxNum,m=e.selectAttrs,f=e.defaultValues,s=e.disabled;return a.createElement(a.Fragment,null,t,a.createElement(u.Z.Row,null,a.createElement(c,{as:l.Z,minNum:i,maxNum:o,onChange:n(m[0]),defaultValue:f?f[0]:void 0,disabled:s}),"â€“",a.createElement(c,{as:l.Z,minNum:r,maxNum:6,onChange:n(m[1]),defaultValue:f?f[1]:void 0,disabled:s})))}},41775:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(67294),a=n(50009),i=n(54480),l=n(57954),u=n(47378),o=n(7408),m=n(53013),c=n(25072),f=n(93175),s=n(29393),p=n(28437),d=n(68912),g=(0,a.ZP)(s.Gq).withConfig({displayName:"CharSelectPanel__CharForm",componentId:"sc-19mq7yb-0"})(["form{width:13.5rem;}"]),h=a.ZP.div.withConfig({displayName:"CharSelectPanel__CharContainer",componentId:"sc-19mq7yb-1"})(["display:flex;flex-direction:row;justify-content:space-around;"]),b=(0,a.ZP)(f.Z).withConfig({displayName:"CharSelectPanel__CharImgWrapper",componentId:"sc-19mq7yb-2"})(["width:5.1rem;margin-right:1rem;border:2px solid ",";border-radius:.25rem;"],(function(e){return e.theme.colors.secondary})),y=function(e){var t=e.children,n=e.character,a=e.handleSelect,i=e.lumpNRChars,u=(0,l.f)(),f=u.pageString,y=u.charString;return r.createElement(r.Fragment,null,r.createElement(c.Z,{title:f.characters.potential.characterPanelTitle,titleIcon:p.i6,border:!0}),r.createElement(h,null,r.createElement(b,{name:"char_"+n,alt:""}),r.createElement(g,{onSubmit:function(e){return e.preventDefault()}},f.characters.potential.characterSelectTitle,r.createElement(m.Z.Row,null,r.createElement(m.Z.Group,{as:o.Z},r.createElement(s.Ph,{as:"select",onChange:a("character")},d.map((function(e,t){return!(e.rarity<2&&i)&&r.createElement("option",{value:e.id,key:t},y.name[e.id])})),i&&r.createElement("option",{value:"nr",key:"nr"},y.name.nr)))),t)))},S=n(74772),v=n(22776),E=n(59969),C=a.ZP.span.withConfig({displayName:"potential__MaterialWrapper",componentId:"sc-2is47v-0"})(["display:inline-flex;align-items:center;justify-content:space-between;padding:0 .4rem;margin:.2rem 0;"," > div{display:flex;align-items:center;}"],(function(e){return Object.entries(e.$layoutConfig).map((function(e){return"@media screen and (min-width: "+e[0]+"px) {\n            width: calc(100% / "+e[1]+");\n        }\n        "}))})),k=(0,a.ZP)(f.Z).withConfig({displayName:"potential__UiImg",componentId:"sc-2is47v-1"})(["width:1.6rem;height:1.6rem;margin-right:.4rem;"]),A=function(e){var t=e.children,n=e.layoutConfig,a=e.name,i=e.alt;return r.createElement(C,{$layoutConfig:n},r.createElement("div",null,r.createElement(k,{name:a,alt:i}),t))},P=(0,a.ZP)(S.qg).withConfig({displayName:"potential__MaterialCard",componentId:"sc-2is47v-2"})(["> div:first-child{width:2rem;height:2rem;margin-right:.4rem;}"]),N=function(e){var t=e.result,n=e.layoutConfig;return r.createElement(r.Fragment,null,t.items&&Object.entries(t.items).map((function(e,t){return r.createElement(C,{key:t,$layoutConfig:n},r.createElement("div",null,r.createElement(P,{id:e[0],alt:""})),e[1])})),t.items&&t.money&&r.createElement(A,{name:"money",alt:"money",layoutConfig:n},t.money))},H=a.ZP.div.withConfig({displayName:"potential__MaterialContainer",componentId:"sc-2is47v-3"})(["display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:1rem;min-height:6rem;"]),B={en:{1360:5,1200:4,768:3,0:2},"zh-TW":{1360:6,1200:5,768:4,624:3,0:2}},J=function(e){var t=e.result,n=e.handleModalOpen,a=(0,l.f)(),i=a.userLanguage,u=a.pageString;return r.createElement(r.Fragment,null,r.createElement(c.Z,{title:u.characters.potential.resultDemandTitle,titleIcon:p.S5,withHelp:!0,onClickHelp:n,border:!0}),r.createElement(H,null,r.createElement(N,{result:t,layoutConfig:B[i]})),r.createElement(c.Z,{title:u.characters.potential.resultBuffTitle,titleIcon:p.G$,border:!0}),r.createElement(A,{layoutConfig:B[i],name:"ui_small_atk",alt:"ATK"},t.buff.ATK+" %"),r.createElement(A,{layoutConfig:B[i],name:"ui_small_hp",alt:"HP"},t.buff.HP+" %"),r.createElement(A,{layoutConfig:B[i],name:"ui_small_potentialPassive",alt:"Passive"},0===t.buff.PASSIVE?"-":1===t.buff.PASSIVE?"1":2===t.buff.PASSIVE?"2":"1 & 2"))},w=a.ZP.div.withConfig({displayName:"potential__FormGutter",componentId:"sc-2is47v-4"})(["margin-top:4rem;"]),_=function(){var e=(0,l.f)().pageString,t=(0,r.useState)({character:"101",currStage:1,currSub:1,targetStage:1,targetSub:1,result:{items:void 0,money:0,buff:{ATK:0,HP:0,PASSIVE:0}},isHelpModalOpen:!1}),n=t[0],a=t[1],o=function(e){return function(t){var r=Object.assign({},n),i=t.target.value;r[e]="character"===e?i:parseInt(i),"nr"===i&&(r.currStage=n.currStage>6?1:n.currStage,r.targetStage=n.targetStage>6?1:n.targetStage),r.targetStage=Math.max(r.targetStage,r.currStage),r.targetStage===r.currStage&&(r.targetSub=Math.max(r.targetSub,r.currSub));var l=(0,E.calcCharPotential)(r.character,[r.currStage,r.currSub],[r.targetStage,r.targetSub]);l.buff.ATK=Math.round(100*l.buff.ATK)/100,l.buff.HP=Math.round(100*l.buff.HP)/100,r.result=l,a(r)}},m="nr"===n.character?6:12,c=function(e){return function(){a((function(t){return Object.assign({},t,{isHelpModalOpen:e})}))}};return r.createElement(r.Fragment,null,r.createElement(u.Z,{title:e.characters.potential.helmet.title,description:e.characters.potential.helmet.description,path:"/characters/potential/"}),r.createElement(i.Z,{panelsWidth:["30%","70%"]},r.createElement(y,{handleSelect:o,character:n.character,lumpNRChars:!0},r.createElement(w,null),r.createElement(s.HX,{title:e.characters.potential.currentSelectTitle,subMinNum:1,minNum:1,maxNum:m,selectAttrs:["currStage","currSub"],handleSelect:o}),r.createElement(s.HX,{title:e.characters.potential.targetSelectTitle,subMinNum:n.currStage===n.targetStage?n.currSub:1,minNum:n.currStage,maxNum:m,selectAttrs:["targetStage","targetSub"],handleSelect:o})),r.createElement(J,{result:n.result,handleModalOpen:c(!0)})),r.createElement(v.p2,{title:e.characters.potential.helpModal.title,open:n.isHelpModalOpen,onClose:c(!1),content:e.characters.potential.helpModal.content,ariaLabelledby:"help-modal-title",ariaDescribedby:"help-modal-description"}))}},59969:function(e,t,n){function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n(68912),l=n(83803),u=function(e,t,n){for(var a={items:{},money:0,buff:{ATK:0,HP:0,PASSIVE:0}},u="nr"===e||"4"===e[0]||"3"===e[0]?3:i.find((function(t){return t.id===e})).potentialType,o=l.type[u],m=t[0]-1;m<n[0]-1+1;m++)for(var c=o[m],f=m===t[0]-1?t[1]-1:0;f<(m===n[0]-1?n[1]:6);f++)if(!(f<0)){var s=c.pattern[f]+c.rank[f];a.items[s]?a.items[s]+=c.num[f]:a.items[s]=c.num[f],a.money+=8e3*(m+1);var p=l.itemMap[c.pattern[f]].type;a.buff[p]+=c.buff[f]}for(var d={},g=function(){for(var e,t=b[h],n=t[0],a=t[1],i=r(l.itemMap[n[0]].id.map((function(e){return"9"===n[1]?"902":"8"===n[1]?"901":(100*parseInt(n[1])+e).toString()})));!(e=i()).done;){var u=e.value;d[u]?d[u]+=a:d[u]=a}},h=0,b=Object.entries(a.items);h<b.length;h++)g();return a.items=d,a};e.exports=function(e,t,n,r,a,i,l,o){if(e){var m=Math.pow(1.1,t-1),c=u(e,[1,0],[n,r]).buff,f=1+.05*a,s=(i+5)/(9-e[0]);return{ATK:Math.floor(l*m*(1+c.ATK/100)*f*s),HP:Math.floor(o*m*(1+c.HP/100)*f*s)}}},e.exports.calcCharPotential=u},83803:function(e){"use strict";e.exports=JSON.parse('{"type":[[{"pattern":["B","B","J","J","J","J"],"num":[1,2,2,2,2,1],"rank":[1,1,1,1,1,1],"buff":[2,2,3,3,3,3]},{"pattern":["B","B","J","J","J","J"],"num":[2,2,2,3,2,3],"rank":[1,1,1,1,1,1],"buff":[2,2,3.5,3.5,3.5,3.5]},{"pattern":["B","B","B","B","J","J"],"num":[1,1,1,1,2,2],"rank":[2,2,2,2,2,2],"buff":[2,2,2,2,3.5,3.5]},{"pattern":["B","B","B","J","J","J"],"num":[2,1,1,3,3,3],"rank":[2,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["B","B","B","J","J","J"],"num":[1,1,2,4,4,4],"rank":[3,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["P","B","B","B","J","J"],"num":[1,2,1,2,4,4],"rank":[9,3,3,3,3,3],"buff":[1,2,2,2,3.5,3.5]},{"pattern":["B","B","B","B","J","J"],"num":[2,3,2,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["B","B","B","B","J","J"],"num":[2,2,3,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["E","E","E","E","M","M"],"num":[2,3,3,2,5,5],"rank":[4,4,4,4,4,4],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["G","G","G","G","N","N"],"num":[3,2,2,3,6,6],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["E","E","E","E","M","M"],"num":[1,1,1,1,1,1],"rank":[5,5,5,5,5,5],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["P","G","G","G","G","N"],"num":[2,1,1,1,1,1],"rank":[9,5,5,5,5,5],"buff":[2,3,3,3,3,4]}],[{"pattern":["J","J","B","B","B","B"],"num":[1,2,2,2,2,1],"rank":[1,1,1,1,1,1],"buff":[2,2,3,3,3,3]},{"pattern":["J","J","B","B","B","B"],"num":[2,2,2,3,2,3],"rank":[1,1,1,1,1,1],"buff":[2,2,3.5,3.5,3.5,3.5]},{"pattern":["J","J","J","J","B","B"],"num":[1,1,1,1,2,2],"rank":[2,2,2,2,2,2],"buff":[2,2,2,2,3.5,3.5]},{"pattern":["J","J","J","B","B","B"],"num":[2,1,1,3,3,3],"rank":[2,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["J","J","J","B","B","B"],"num":[1,1,2,4,4,4],"rank":[3,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["P","J","J","J","B","B"],"num":[1,2,1,2,4,4],"rank":[9,3,3,3,3,3],"buff":[1,2,2,2,3.5,3.5]},{"pattern":["J","J","J","J","B","B"],"num":[2,3,2,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["J","J","J","J","B","B"],"num":[2,2,3,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["M","M","M","M","E","E"],"num":[2,3,3,2,5,5],"rank":[4,4,4,4,4,4],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["N","N","N","N","G","G"],"num":[3,2,2,3,6,6],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["M","M","M","M","E","E"],"num":[1,1,1,1,1,1],"rank":[5,5,5,5,5,5],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["P","N","N","N","N","G"],"num":[2,1,1,1,1,1],"rank":[9,5,5,5,5,5],"buff":[2,3,3,3,3,4]}],[{"pattern":["A","A","A","A","A","A"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["H","H","H","H","H","H"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["A","H","A","H","A","H"],"num":[3,2,1,1,1,1],"rank":[2,2,2,2,2,2],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["H","A","A","A","A","A"],"num":[3,3,3,2,2,2],"rank":[2,2,2,2,2,2],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["C","H","H","H","H","H"],"num":[3,3,3,2,2,2],"rank":[3,2,2,2,2,2],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["P","K","C","K","C","K"],"num":[1,3,2,2,2,2],"rank":[9,3,3,3,3,3],"buff":[1,2.75,2.75,2.75,2.75,2.75]},{"pattern":["C","K","C","K","C","K"],"num":[2,2,3,3,3,3],"rank":[3,3,3,3,3,3],"buff":[2.75,2.75,2.75,2.75,2.75,3]},{"pattern":["C","K","C","K","C","K"],"num":[3,3,3,3,3,3],"rank":[3,3,3,3,3,3],"buff":[3,3,3,3,3,3]},{"pattern":["D","L","D","L","D","L"],"num":[4,4,3,3,3,3],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3,3]},{"pattern":["F","O","F","O","F","O"],"num":[4,4,4,4,3,3],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3,3]},{"pattern":["D","L","D","L","D","L"],"num":[1,1,1,1,1,1],"rank":[5,5,5,5,5,5],"buff":[3,3,3,3,3,3]},{"pattern":["P","F","F","O","F","O"],"num":[2,1,1,1,1,1],"rank":[9,5,5,5,5,5],"buff":[2,3,3,3,3,3]}],[{"pattern":["A","A","A","A","A","A"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,3,3]},{"pattern":["H","H","H","H","H","H"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,3,3]},{"pattern":["P","H","A","H","A","H"],"num":[5,2,1,1,1,1],"rank":[8,2,2,2,2,2],"buff":[1,3,3,3,3,3]},{"pattern":["A","A","A","A","A","A"],"num":[3,3,3,2,2,2],"rank":[2,2,2,2,2,2],"buff":[3,3,3,3,3,3]},{"pattern":["H","H","H","H","H","H"],"num":[3,3,3,2,2,2],"rank":[2,2,2,2,2,2],"buff":[3,3,3,3,3,3]},{"pattern":["P","C","K","C","K","C"],"num":[10,3,3,2,2,2],"rank":[8,3,3,3,3,3],"buff":[2,3,3,3,3,3]}]],"itemMap":{"A":{"id":[1,3],"type":"ATK"},"B":{"id":[1,5],"type":"ATK"},"C":{"id":[3,5],"type":"ATK"},"D":{"id":[1,3],"type":"ATK"},"E":{"id":[1,5],"type":"ATK"},"F":{"id":[8,10],"type":"ATK"},"G":{"id":[6,10],"type":"ATK"},"H":{"id":[2,3],"type":"HP"},"J":{"id":[2,4],"type":"HP"},"K":{"id":[3,4],"type":"HP"},"L":{"id":[2,3],"type":"HP"},"M":{"id":[2,4],"type":"HP"},"N":{"id":[7,9],"type":"HP"},"O":{"id":[8,9],"type":"HP"},"P":{"id":[1],"type":"PASSIVE"}}}')}}]);
//# sourceMappingURL=component---src-pages-characters-potential-js-a54b1a9c386a0cf5b44c.js.map