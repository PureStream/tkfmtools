(self.webpackChunktkfmtools=self.webpackChunktkfmtools||[]).push([[781],{83332:function(e,t,n){"use strict";var a=n(81253),r=n(22122),o=n(67294),i=n(85505),l=n(34621),d=n(37595),s=n(67055),c=n(81664),u=o.forwardRef((function(e,t){var n=e.children,l=e.classes,d=e.className,u=e.color,p=void 0===u?"default":u,m=e.component,f=void 0===m?"button":m,b=e.disabled,y=void 0!==b&&b,g=e.disableElevation,h=void 0!==g&&g,v=e.disableFocusRipple,S=void 0!==v&&v,k=e.endIcon,x=e.focusVisibleClassName,C=e.fullWidth,w=void 0!==C&&C,E=e.size,O=void 0===E?"medium":E,N=e.startIcon,Z=e.type,B=void 0===Z?"button":Z,J=e.variant,A=void 0===J?"text":J,H=(0,a.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),P=N&&o.createElement("span",{className:(0,i.Z)(l.startIcon,l["iconSize".concat((0,c.Z)(O))])},N),I=k&&o.createElement("span",{className:(0,i.Z)(l.endIcon,l["iconSize".concat((0,c.Z)(O))])},k);return o.createElement(s.Z,(0,r.Z)({className:(0,i.Z)(l.root,l[A],d,"inherit"===p?l.colorInherit:"default"!==p&&l["".concat(A).concat((0,c.Z)(p))],"medium"!==O&&[l["".concat(A,"Size").concat((0,c.Z)(O))],l["size".concat((0,c.Z)(O))]],h&&l.disableElevation,y&&l.disabled,w&&l.fullWidth),component:f,disabled:y,focusRipple:!S,focusVisibleClassName:(0,i.Z)(l.focusVisible,x),ref:t,type:B},H),o.createElement("span",{className:l.label},P,n,I))}));t.Z=(0,l.Z)((function(e){return{root:(0,r.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,d.U1)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,d.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,d.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,d.U1)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,d.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,d.U1)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,d.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(u)},62648:function(e,t,n){"use strict";n.d(t,{Gq:function(){return d},Ph:function(){return s},kg:function(){return c},HX:function(){return u}});var a=n(85061),r=n(67294),o=n(50009),i=n(7408),l=n(53013),d=(0,o.ZP)(l.Z).withConfig({displayName:"MyForm__StyledForm",componentId:"sc-1f0u4ho-0"})(["form{> div:last-child > div{margin-bottom:0;}}"]),s=(0,o.ZP)(l.Z.Control).withConfig({displayName:"MyForm__Select",componentId:"sc-1f0u4ho-1"})(["&&{background-color:",";color:",";border-radius:.25rem;padding:.1rem;border:1px solid ",";width:100%;height:1.6rem;&:focus{box-shadow:0 0 .4rem ",";}}"],(function(e){return e.theme.colors.surface}),(function(e){return e.theme.colors.onSurface}),(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.colors.secondary})),c=function(e){var t=e.as,n=e.minNum,o=e.maxNum,i=e.onChange,d=e.defaultValue,c=e.disabled;return r.createElement(l.Z.Group,{as:t},r.createElement(s,{as:"select",value:d,onChange:i,disabled:c},c?r.createElement("option",null,"-"):(0,a.Z)(Array(o+1).keys()).slice(n).map((function(e){return r.createElement("option",{value:e,key:e},e)}))))},u=function(e){var t=e.title,n=e.handleSelect,a=e.subMinNum,o=e.minNum,d=e.maxNum,s=e.selectAttrs,u=e.defaultValues,p=e.disabled;return r.createElement(r.Fragment,null,t,r.createElement(l.Z.Row,null,r.createElement(c,{as:i.Z,minNum:o,maxNum:d,onChange:n(s[0]),defaultValue:u?u[0]:void 0,disabled:p}),"â€“",r.createElement(c,{as:i.Z,minNum:a,maxNum:6,onChange:n(s[1]),defaultValue:u?u[1]:void 0,disabled:p})))}},32264:function(e,t,n){"use strict";n.d(t,{Xp:function(){return l},ZP:function(){return d}});var a=n(20601),r=JSON.parse('{"d":[[{"pattern":["B","B","J","J","J","J"],"num":[1,2,2,2,2,1],"rank":[1,1,1,1,1,1],"buff":[2,2,3,3,3,3]},{"pattern":["B","B","J","J","J","J"],"num":[2,2,2,3,2,3],"rank":[1,1,1,1,1,1],"buff":[2,2,3.5,3.5,3.5,3.5]},{"pattern":["B","B","B","B","J","J"],"num":[1,1,1,1,2,2],"rank":[2,2,2,2,2,2],"buff":[2,2,2,2,3.5,3.5]},{"pattern":["B","B","B","J","J","J"],"num":[2,1,1,3,3,3],"rank":[2,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["B","B","B","J","J","J"],"num":[1,1,2,4,4,4],"rank":[3,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["P","B","B","B","J","J"],"num":[1,2,1,2,4,4],"rank":[9,3,3,3,3,3],"buff":[1,2,2,2,3.5,3.5]},{"pattern":["B","B","B","B","J","J"],"num":[2,3,2,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["B","B","B","B","J","J"],"num":[2,2,3,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["E","E","E","E","M","M"],"num":[2,3,3,2,5,5],"rank":[4,4,4,4,4,4],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["G","G","G","G","N","N"],"num":[3,2,2,3,6,6],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["E","E","E","E","M","M"],"num":[1,1,1,1,1,1],"rank":[5,5,5,5,5,5],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["P","G","G","G","G","N"],"num":[2,1,1,1,1,1],"rank":[9,5,5,5,5,5],"buff":[2,3,3,3,3,4]}],[{"pattern":["J","J","B","B","B","B"],"num":[1,2,2,2,2,1],"rank":[1,1,1,1,1,1],"buff":[2,2,3,3,3,3]},{"pattern":["J","J","B","B","B","B"],"num":[2,2,2,3,2,3],"rank":[1,1,1,1,1,1],"buff":[2,2,3.5,3.5,3.5,3.5]},{"pattern":["J","J","J","J","B","B"],"num":[1,1,1,1,2,2],"rank":[2,2,2,2,2,2],"buff":[2,2,2,2,3.5,3.5]},{"pattern":["J","J","J","B","B","B"],"num":[2,1,1,3,3,3],"rank":[2,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["J","J","J","B","B","B"],"num":[1,1,2,4,4,4],"rank":[3,2,2,2,2,2],"buff":[2,2,2,3.5,3.5,3.5]},{"pattern":["P","J","J","J","B","B"],"num":[1,2,1,2,4,4],"rank":[9,3,3,3,3,3],"buff":[1,2,2,2,3.5,3.5]},{"pattern":["J","J","J","J","B","B"],"num":[2,3,2,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["J","J","J","J","B","B"],"num":[2,2,3,2,4,4],"rank":[3,3,3,3,3,3],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["M","M","M","M","E","E"],"num":[2,3,3,2,5,5],"rank":[4,4,4,4,4,4],"buff":[2.5,2.5,2.5,2.5,3.5,3.5]},{"pattern":["N","N","N","N","G","G"],"num":[3,2,2,3,6,6],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["M","M","M","M","E","E"],"num":[1,1,1,1,1,1],"rank":[5,5,5,5,5,5],"buff":[3,3,3,3,3.5,3.5]},{"pattern":["P","N","N","N","N","G"],"num":[2,1,1,1,1,1],"rank":[9,5,5,5,5,5],"buff":[2,3,3,3,3,4]}],[{"pattern":["A","A","A","A","A","A"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["H","H","H","H","H","H"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["A","H","A","H","A","H"],"num":[3,2,1,1,1,1],"rank":[2,2,2,2,2,2],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["H","A","A","A","A","A"],"num":[3,3,3,2,2,2],"rank":[2,2,2,2,2,2],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["C","H","H","H","H","H"],"num":[3,3,3,2,2,2],"rank":[3,2,2,2,2,2],"buff":[2.75,2.75,2.75,2.75,2.75,2.75]},{"pattern":["P","K","C","K","C","K"],"num":[1,3,2,2,2,2],"rank":[9,3,3,3,3,3],"buff":[1,2.75,2.75,2.75,2.75,2.75]},{"pattern":["C","K","C","K","C","K"],"num":[2,2,3,3,3,3],"rank":[3,3,3,3,3,3],"buff":[2.75,2.75,2.75,2.75,2.75,3]},{"pattern":["C","K","C","K","C","K"],"num":[3,3,3,3,3,3],"rank":[3,3,3,3,3,3],"buff":[3,3,3,3,3,3]},{"pattern":["D","L","D","L","D","L"],"num":[4,4,3,3,3,3],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3,3]},{"pattern":["F","O","F","O","F","O"],"num":[4,4,4,4,3,3],"rank":[4,4,4,4,4,4],"buff":[3,3,3,3,3,3]},{"pattern":["D","L","D","L","D","L"],"num":[1,1,1,1,1,1],"rank":[5,5,5,5,5,5],"buff":[3,3,3,3,3,3]},{"pattern":["P","F","F","O","F","O"],"num":[2,1,1,1,1,1],"rank":[9,5,5,5,5,5],"buff":[2,3,3,3,3,3]}],[{"pattern":["A","A","A","A","A","A"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,3,3]},{"pattern":["H","H","H","H","H","H"],"num":[2,2,2,2,2,2],"rank":[1,1,1,1,1,1],"buff":[2.75,2.75,2.75,2.75,3,3]},{"pattern":["P","H","A","H","A","H"],"num":[5,2,1,1,1,1],"rank":[8,2,2,2,2,2],"buff":[1,3,3,3,3,3]},{"pattern":["A","A","A","A","A","A"],"num":[3,3,3,2,2,2],"rank":[2,2,2,2,2,2],"buff":[3,3,3,3,3,3]},{"pattern":["H","H","H","H","H","H"],"num":[3,3,3,2,2,2],"rank":[2,2,2,2,2,2],"buff":[3,3,3,3,3,3]},{"pattern":["P","C","K","C","K","C"],"num":[10,3,3,2,2,2],"rank":[8,3,3,3,3,3],"buff":[2,3,3,3,3,3]}]],"Y":{"A":{"id":[1,3],"type":"ATK"},"B":{"id":[1,5],"type":"ATK"},"C":{"id":[3,5],"type":"ATK"},"D":{"id":[1,3],"type":"ATK"},"E":{"id":[1,5],"type":"ATK"},"F":{"id":[8,10],"type":"ATK"},"G":{"id":[6,10],"type":"ATK"},"H":{"id":[2,3],"type":"HP"},"J":{"id":[2,4],"type":"HP"},"K":{"id":[3,4],"type":"HP"},"L":{"id":[2,3],"type":"HP"},"M":{"id":[2,4],"type":"HP"},"N":{"id":[7,9],"type":"HP"},"O":{"id":[8,9],"type":"HP"},"P":{"id":[1],"type":"PASSIVE"}}}');function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var l=function(e,t,n){for(var i={items:{},money:0,buff:{ATK:0,HP:0,PASSIVE:0}},l="nr"===e||"4"===e[0]||"3"===e[0]?3:a.find((function(t){return t.id===e})).potentialType,d=r.d[l],s=t[0]-1;s<n[0]-1+1;s++)for(var c=d[s],u=s===t[0]-1?t[1]-1:0;u<(s===n[0]-1?n[1]:6);u++)if(!(u<0)){var p=c.pattern[u]+c.rank[u];i.items[p]?i.items[p]+=c.num[u]:i.items[p]=c.num[u],i.money+=8e3*(s+1);var m=r.Y[c.pattern[u]].type;i.buff[m]+=c.buff[u]}for(var f={},b=function(){for(var e,t=g[y],n=t[0],a=t[1],i=o(r.Y[n[0]].id.map((function(e){return"9"===n[1]?"902":"8"===n[1]?"901":(100*parseInt(n[1])+e).toString()})));!(e=i()).done;){var l=e.value;f[l]?f[l]+=a:f[l]=a}},y=0,g=Object.entries(i.items);y<g.length;y++)b();return i.items=f,i},d=function(e,t,n,a,r,o,i,d){var s=Math.pow(1.1,t-1),c=l(e,[1,0],[n,a]).buff,u=1+.05*r,p=(o+5)/(9-e[0]);return{ATK:Math.floor(i*s*(1+c.ATK/100)*u*p),HP:Math.floor(d*s*(1+c.HP/100)*u*p)}}},37009:function(e,t,n){"use strict";n.r(t);var a=n(19756),r=n(85061),o=n(67294),i=n(50009),l=n(83332),d=n(7408),s=n(53013),c=n(47378),u=n(32545),p=n(62648),m=n(17182),f=n(44988),b=n(42474),y=n(93670),g=n(32264),h=n(20601),v=h.reduce((function(e,t,n){return e[t.tags.position-5].push({id:t.id,idx:n}),e}),(0,r.Z)(Array(5)).map((function(e){return[]}))),S=function(e){return e.map((function(e){return Object.values(e)}))},k=i.ZP.div.withConfig({displayName:"analysis__StyledCharContainer",componentId:"sc-3odedp-0"})(["display:flex;flex-direction:row;margin-bottom:2rem;margin-right:2rem;"]),x=(0,i.ZP)(l.Z).withConfig({displayName:"analysis__CharImgWrapper",componentId:"sc-3odedp-1"})([""," &&{transition:filter 0.1s ease;}"],(function(e){return e.$owned?null:"filter: grayscale(100%);"})),C=(0,i.ZP)(u.Z).withConfig({displayName:"analysis__CharImg",componentId:"sc-3odedp-2"})(["width:7rem;"]),w=(0,i.ZP)(s.Z).withConfig({displayName:"analysis__StyledForm",componentId:"sc-3odedp-3"})(["width:12rem;div{margin-bottom:.2rem;}> div:last-child > div{margin-bottom:0;}&& input,&& select{transition:all 0.3s ease;","}"],(function(e){return e.$owned?null:"border: 1px solid "+e.theme.colors.dropdownHover+";"})),E=function(e){var t,n=e.character,a=e.state,r=e.handleSelect,i=e.handleBtnClick,l=(0,y.ZK)(),c=l.pageString,u=l.charString;return o.createElement(k,null,o.createElement(x,{onClick:i,$owned:a.owned,disableRipple:!0,disableFocusRipple:!0},o.createElement(C,{name:"char_small_"+n.id,alt:u.name[n.id]})),o.createElement(w,{$owned:a.owned,onSubmit:function(e){return e.preventDefault()}},o.createElement(s.Z.Row,null,o.createElement(d.Z,null,c.analysis.index.levelTitle),o.createElement(d.Z,null,c.analysis.index.starTitle),o.createElement(d.Z,null,c.analysis.index.disciplineTitle)),o.createElement(s.Z.Row,null,o.createElement(d.Z,null,o.createElement(p.Ph,{type:"number",pattern:"[0-9]*",inputMode:"numeric",value:a.owned?a.level:"",min:"0",max:"61",onChange:r("level"),onFocus:function(e){return e.target.value=""},onBlur:function(e){return e.target.value=a.level},placeholder:"-",disabled:!a.owned})),o.createElement(p.kg,{as:d.Z,defaultValue:a.star,minNum:4-n.id[0],maxNum:5,onChange:r("star"),disabled:!a.owned}),o.createElement(p.kg,((t={as:d.Z,defaultValue:a.discipline,minNum:0,maxNum:3,disabled:"4"===n.id[0],onChange:r("discipline")}).disabled=!a.owned,t))),o.createElement(p.HX,{title:c.analysis.index.potentialTitle,defaultValues:[a.potential,a.potentialSub],subMinNum:1===a.potential?0:1,minNum:1,maxNum:"4"===n.id[0]||"3"===n.id[0]?6:12,selectAttrs:["potential","potentialSub"],handleSelect:r,disabled:!a.owned})))},O=i.ZP.span.withConfig({displayName:"analysis__BtnWrapper",componentId:"sc-3odedp-4"})(["&& > button{padding:.4rem .6rem;margin-right:.6rem;background-color:",";color:",";}> button:hover{box-shadow:inset 0 0 10rem 10rem rgba(255,255,255,0.25);}"],(function(e){return"save"===e.$type?e.theme.colors.success:"load"===e.$type?e.theme.colors.blue:e.theme.colors.error}),(function(e){return"save"===e.$type?e.theme.colors.onSuccess:"load"===e.$type?e.theme.colors.onBlue:e.theme.colors.onError})),N=function(e){var t=e.children,n=e.type,a=e.onClick;return o.createElement(O,{$type:n},o.createElement(l.Z,{onClick:a},t))},Z=i.ZP.div.withConfig({displayName:"analysis__DataButtonContainer",componentId:"sc-3odedp-5"})(["position:absolute;right:0;top:-4rem;margin-bottom:0;> span:last-child button{margin:0;}"]),B=function(e){var t=e.handleData,n=e.handleModalOpen,a=(0,y.ZK)().pageString;return o.createElement(Z,null,o.createElement(N,{type:"save",onClick:t("save")},a.analysis.index.saveButton),o.createElement(N,{type:"load",onClick:n},a.analysis.index.loadButton))},J=(0,i.ZP)(m.Z).withConfig({displayName:"analysis__ModalItemContainer",componentId:"sc-3odedp-6"})(["border:none;"]),A=function(e){var t=e.handleData,n=(0,y.ZK)().pageString,a=localStorage.getItem("analysis-data");return(a?JSON.parse(a):[]).map((function(e,a){return o.createElement(J,{title:e.date,end:o.createElement(o.Fragment,null,o.createElement(N,{type:"load",onClick:t("load",a)},n.analysis.index.loadButton),o.createElement(N,{type:"delete",onClick:t("delete",a)},n.analysis.index.deleteButton)),key:a})}))},H=i.ZP.div.withConfig({displayName:"analysis__CharGroupsContainer",componentId:"sc-3odedp-7"})(["width:100%;> div:nth-child(even) > div span{display:flex;align-items:center;margin-bottom:.4rem;}> div:nth-child(2) > div{width:100%;justify-content:space-between;}"]),P=(0,i.ZP)(u.Z).withConfig({displayName:"analysis__UiImgWrapper",componentId:"sc-3odedp-8"})(["width:2rem;margin-right:.2rem;"]),I=i.ZP.div.withConfig({displayName:"analysis__CharsContainer",componentId:"sc-3odedp-9"})(["display:flex;flex-direction:row;flex-wrap:wrap;"]);t.default=function(e){var t=e.pageState,n=e.handlePageState,i=(0,y.ZK)(),l=i.pageString,d=i.charString,s=(0,o.useState)({data:h.map((function(e){return{id:e.id,attribute:e.tags.attribute,position:e.tags.position-5,level:1,potential:1,potentialSub:0,discipline:0,star:e.rarity,ATK:e.stats.initATK,HP:e.stats.initHP,owned:!0}})),isDataModalOpen:!1,isHelpModalOpen:!1,isSuccessSnackbarOpen:!1,isErrorSnackbarOpen:!1}),u=s[0],p=s[1];(0,o.useEffect)((function(){t&&p((function(e){return Object.assign({},e,{data:t})}))}),[]);var k=function(e){return function(t){return function(o){var i,l=parseInt(o.target.value),d=Object.assign({},u.data[e],((i={})[t]=parseInt(l),i));if(!(isNaN(parseInt(d.level))||d.level<0||d.level>61)){d.level=0===d.level?60:61===d.level?1:d.level,1!==d.potential&&0===u.data[e].potentialSub&&(d.potentialSub=1);var s=h[e].stats,c=(d.rarity,d.attribute,d.position,d.ATK,d.HP,d.owned,(0,a.Z)(d,["rarity","attribute","position","ATK","HP","owned"])),m=g.ZP.apply(void 0,(0,r.Z)(Object.values(c)).concat((0,r.Z)(Object.values(s)))),f=JSON.parse(JSON.stringify(u.data));f[e]=Object.assign({},d,m,{owned:0!==c.level}),p((function(e){return Object.assign({},e,{data:f})})),n(f)}}}},x=function(e){return function(){var t=JSON.parse(JSON.stringify(u.data));t[e].owned=!t[e].owned,p((function(e){return Object.assign({},e,{data:t})})),n(t)}},C=function(e,r){return function(){var o=localStorage.getItem("analysis-data");if("save"===e&&t){var i=6e4*(new Date).getTimezoneOffset(),l=new Date(Date.now()-i).toISOString().slice(0,10);if(o){var d=JSON.parse(o);d.push({date:l,data:S(u.data)}),localStorage.setItem("analysis-data",JSON.stringify(d)),p((function(e){return Object.assign({},e,{isSuccessSnackbarOpen:!0})}))}else localStorage.setItem("analysis-data",JSON.stringify([{date:l,data:S(u.data)}])),p((function(e){return Object.assign({},e,{isSuccessSnackbarOpen:!0})}));if("undefined"!=typeof window&&window.gtag){var s=u.data.map((function(e){e.attribute,e.position;return(0,a.Z)(e,["attribute","position"])}));window.gtag("event","line_up_analysis",{"line-up":JSON.stringify(s)})}}else{if("load"===e){if(o){var c=JSON.parse(o);if(c[r]&&"101"===c[r].data[0][0]){var m=function(e){var t=["id","attribute","position","level","potential","potentialSub","discipline","star","ATK","HP","owned"];return e.map((function(e){return e.reduce((function(e,n,a){return e[t[a]]=n,e}),{})}))}(c[r].data);return m.forEach((function(e){0===e.level&&(e.level=1,e.owned=!1)})),p((function(e){return Object.assign({},e,{data:m,isSuccessSnackbarOpen:!0,isDataModalOpen:!1})})),void n(m)}}}else if("delete"===e&&o){var f=JSON.parse(o);if(f[r]&&"101"===f[r].data[0][0])return f.splice(r,1),localStorage.setItem("analysis-data",JSON.stringify(f)),void p((function(e){return Object.assign({},e,{isDataModalOpen:!0})}))}p((function(e){return Object.assign({},e,{isErrorSnackbarOpen:!0})}))}}},w=function(e){return function(){p((function(t){return Object.assign({},t,{isDataModalOpen:e})}))}},O=function(e){return function(){p((function(t){return Object.assign({},t,{isHelpModalOpen:e})}))}},N=["attacker","defender","healer","obsructer","supporter"];return o.createElement(H,null,o.createElement(c.Z,{title:l.analysis.index.helmet.title,description:l.analysis.index.helmet.description,path:"/analysis/"}),o.createElement(B,{handleData:C,handleModalOpen:w(!0)}),v.map((function(e,t){return o.createElement(o.Fragment,{key:t},o.createElement(m.Z,{title:d.tags[t+5],titleIcon:o.createElement(P,{name:"ui_"+N[t],alt:""}),withHelp:0===t,onClickHelp:O(!0)}),o.createElement(I,null,e.map((function(e,t){return o.createElement(E,{character:e,state:u.data[e.idx],handleSelect:k(e.idx),handleBtnClick:x(e.idx),key:t})}))))})),o.createElement(f.Z,{open:u.isSuccessSnackbarOpen,onClose:function(){p((function(e){return Object.assign({},e,{isSuccessSnackbarOpen:!1})}))},message:l.analysis.index.successMsg,type:"success"}),o.createElement(f.Z,{open:u.isErrorSnackbarOpen,onClose:function(){p((function(e){return Object.assign({},e,{isErrorSnackbarOpen:!1})}))},message:l.analysis.index.errorMsg,type:"error"}),o.createElement(b.WQ,{title:l.analysis.index.modalTitle,open:u.isDataModalOpen,onClose:w(!1),ariaLabelledby:"load-data-modal-title",ariaDescribedby:"load-data-modal-description"},o.createElement(A,{handleData:C})),o.createElement(b.p2,{title:l.analysis.index.helpModal.title,content:l.analysis.index.helpModal.content,open:u.isHelpModalOpen,onClose:O(!1),ariaLabelledby:"help-modal-title",ariaDescribedby:"help-modal-description"}))}}}]);
//# sourceMappingURL=component---src-pages-analysis-index-js-0069b2f00e830a7fb5a0.js.map