{"version":3,"sources":["webpack://tkfmtools/./src/components/ImageExporter.js"],"names":["exportAsJPG","node","fileName","backgroundColor","current","Error","element","ReactDOM","html2canvas","logging","scrollY","window","useCORS","then","canvas","uri","filename","link","toDataURL","document","createElement","download","href","body","appendChild","click","removeChild","open"],"mappings":"+LAmBaA,EAAc,SAACC,EAAMC,EAAUC,GACxC,IAAKF,EAAKG,QACN,MAAM,IAAIC,MAAM,8BAGpB,IAAMC,EAAUC,cAAqBN,EAAKG,SAC1C,OAAOI,IAAYF,EAAS,CACxBG,SAAS,EACTC,SAAUC,OAAOD,QACjBE,SAAS,EACTT,gBAAiBA,IAClBU,MAAK,SAAAC,GAzBG,IAACC,EAAKC,EACXC,EADMF,EA0BDD,EAAOI,UAAU,aAAc,GA1BzBF,EA0B+Bd,GAAsB,YAvBvC,iBAFzBe,EAAOE,SAASC,cAAc,MAEnBC,UACbJ,EAAKK,KAAOP,EACZE,EAAKI,SAAWL,EAChBG,SAASI,KAAKC,YAAYP,GAC1BA,EAAKQ,QACLN,SAASI,KAAKG,YAAYT,IAE1BN,OAAOgB,KAAKZ","file":"416-3c47a32032df3171fd00.js","sourcesContent":["import ReactDOM from 'react-dom';\r\nimport html2canvas from 'html2canvas';\r\n\r\n// modified from https://github.com/salman-monetate/react-component-export-image/blob/master/index.js\r\n\r\nconst saveAs = (uri, filename) => {\r\n    const link = document.createElement('a')\r\n\r\n    if (typeof (link.download) === 'string') {\r\n        link.href = uri;\r\n        link.download = filename;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    } else {\r\n        window.open(uri);\r\n    }\r\n}\r\n\r\nexport const exportAsJPG = (node, fileName, backgroundColor) => {\r\n    if (!node.current) {\r\n        throw new Error(\"'node' must be a RefObject\")\r\n    }\r\n\r\n    const element = ReactDOM.findDOMNode(node.current)\r\n    return html2canvas(element, {\r\n        logging: false,\r\n        scrollY: -window.scrollY,\r\n        useCORS: true,\r\n        backgroundColor: backgroundColor,\r\n    }).then(canvas => {\r\n        saveAs(canvas.toDataURL('image/jpeg', 1.0), fileName ? fileName : 'component')\r\n    })\r\n}\r\n"],"sourceRoot":""}