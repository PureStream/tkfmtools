{"version":3,"sources":["webpack:///./src/pages/items/drop/index.js","webpack:///./src/components/MyCard.js","webpack:///./src/components/ItemShowcase.js"],"names":["pageString","useContext","LanguageContext","title","items","drop","index","helmet","description","path","StyledImg","styled","ImageSupplier","ImgWrapper","div","ImgCard","children","className","imgType","imgId","alt","isBackground","name","StyledTable","Table","props","theme","colors","onSurface","CardTable","striped","borderless","size","ItemImg","TextWrapper","ItemCard","id","itemString","StyledTh","SortableTh","secondary","onSecondary","$sortable","TableHead","React","forwardRef","ref","Object","entries","tableHead","map","entry","idx","requestSort","getSortDirection","sortable","onClick","direction","key","ItemWrapper","ItemsContainer","StyledBadge","Badge","$rarity","TableBody","trRef","useRef","useImperativeHandle","getY","current","getBoundingClientRect","y","getBottom","bottom","sortedResult","stage","renderTo","itemTd","length","undefined","item","i","pill","rarity","chapter","materials","trainItems","expPotions","energy","TableWrapper","ScrollableContainer","ItemShowcase","data","stageDropData","head","body","sortFunc","sortableItems","sortConfig","toStageKey","parseInt","split","includes","sort","a","b","aKey","bKey","defaultSortKey","border"],"mappings":"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","file":"component---src-pages-items-drop-index-js-ea8f67d8c8d03cea8780.js","sourcesContent":["import React, { useContext } from 'react';\r\nimport Head from \"components/Head\";\r\nimport ItemShowcase from 'components/ItemShowcase';\r\nimport { LanguageContext } from 'components/LanguageProvider';\r\n\r\nexport default () => {\r\n    const { pageString } = useContext(LanguageContext)\r\n\r\n    return (\r\n        <>\r\n            <Head\r\n                title={pageString.items.drop.index.helmet.title}\r\n                description={pageString.items.drop.index.helmet.description}\r\n                path='/items/drop/'\r\n            />\r\n            <ItemShowcase />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Table } from 'react-bootstrap';\r\nimport ImageSupplier from './ImageSupplier';\r\n\r\nconst StyledImg = styled(ImageSupplier)`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    background-repeat: no-repeat;\r\n`\r\nconst ImgWrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nexport const ImgCard = ({\r\n    children,\r\n    className,\r\n    imgType,\r\n    imgId,\r\n    alt,\r\n    isBackground\r\n}) => (\r\n    isBackground\r\n        ? <StyledImg\r\n            className={className}\r\n            name={`${imgType}_${imgId}.png`}\r\n            isBackground\r\n            alt={alt}\r\n        >\r\n            {children}\r\n        </StyledImg>\r\n        : <ImgWrapper className={className}>\r\n            <StyledImg\r\n                name={`${imgType}_${imgId}.png`}\r\n                alt={alt}\r\n            />\r\n            {children}\r\n        </ImgWrapper>\r\n)\r\n\r\nconst StyledTable = styled(Table)`\r\n    font-size: .9rem;\r\n    color: ${props => props.theme.colors.onSurface};\r\n    margin: 0;\r\n    > tbody > tr > {\r\n        td:first-child {\r\n            padding-left: .75rem;\r\n        }\r\n    }\r\n`\r\nexport const CardTable = ({\r\n    className,\r\n    children,\r\n    striped\r\n}) => (\r\n    <StyledTable\r\n        className={className}\r\n        striped={striped}\r\n        borderless\r\n        size=\"sm\"\r\n    >\r\n        {children}\r\n    </StyledTable>\r\n)\r\n","import React, { useContext, useImperativeHandle, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Badge } from 'react-bootstrap';\r\nimport ScrollableContainer from './ScrollableContainer';\r\nimport { SortableTh, SortableTable } from './FilterComponents';\r\nimport { ImgCard } from './MyCard';\r\nimport { LanguageContext } from './LanguageProvider';\r\nimport stageDropData from 'gamedata/stageDrop.json';\r\n\r\nconst ItemImg = styled(ImgCard)`\r\n    > div:first-child {\r\n        width: 2.5rem;\r\n        height: 2.5rem;\r\n        margin-right: .4rem;\r\n        user-select: none;\r\n    }\r\n`\r\nconst TextWrapper = styled.div`\r\n    white-space: nowrap;\r\n    font-size: medium;\r\n    font-weight: normal;\r\n`\r\nexport const ItemCard = ({\r\n    className,\r\n    id\r\n}) => {\r\n    const { itemString } = useContext(LanguageContext)\r\n\r\n    return (\r\n        <ItemImg\r\n            className={className}\r\n            imgType='item'\r\n            imgId={id}\r\n            alt=''\r\n        >\r\n            <TextWrapper>\r\n                {itemString.name[id]}\r\n            </TextWrapper>\r\n        </ItemImg>\r\n    )\r\n}\r\n\r\nconst StyledTh = styled(SortableTh)`\r\n    background-color: ${props => props.theme.colors.secondary};\r\n    color: ${props => props.theme.colors.onSecondary};\r\n    white-space: nowrap;\r\n    ${props => props.$sortable ? true : 'cursor: default;'}\r\n`\r\nconst TableHead = React.forwardRef((props, ref) => {\r\n    const { pageString } = useContext(LanguageContext)\r\n\r\n    return (\r\n        <thead ref={ref}>\r\n            <tr>\r\n                {Object.entries(pageString.items.drop.index.tableHead)\r\n                    .map((entry, idx) => {\r\n                        const sortable = entry[0] === 'stage' || entry[0] === 'energy'\r\n                        let requestSort\r\n                        let getSortDirection\r\n                        if (sortable) {\r\n                            requestSort = () => props.requestSort(entry[0])\r\n                            getSortDirection = props.getSortDirection(entry[0])\r\n                        }\r\n\r\n                        return (\r\n                            <StyledTh\r\n                                onClick={requestSort}\r\n                                direction={getSortDirection}\r\n                                key={idx}\r\n                                $sortable={sortable}\r\n                            >\r\n                                {entry[1]}\r\n                            </StyledTh>\r\n                        )\r\n                    })}\r\n            </tr>\r\n        </thead>\r\n    )\r\n})\r\n\r\nconst ItemWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    flex-wrap: nowrap;\r\n    margin-right: .8rem;\r\n    div {\r\n        flex-wrap: nowrap;\r\n        font-size: 1rem;\r\n    }\r\n    img {\r\n        width: 2rem;\r\n        height: 2rem;\r\n    }\r\n`\r\nconst ItemsContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    > div:last-child {\r\n        margin: 0;\r\n    }\r\n`\r\nconst StyledBadge = styled(Badge)`\r\n    background-color: ${props => props.$rarity === 0 ? 'lightgray'\r\n        : props.$rarity === 1 ? '#90CAF9'\r\n            : props.$rarity === 2 ? '#A5D6A7' : '#FFAB91'};\r\n    color: black;\r\n    margin-left: .4rem;\r\n`\r\nconst TableBody = React.forwardRef((props, ref) => {\r\n    const { itemString } = useContext(LanguageContext)\r\n    const trRef = useRef()\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        getY: () => trRef.current.getBoundingClientRect().y,\r\n        getBottom: () => trRef.current.getBoundingClientRect().bottom,\r\n        current: trRef.current\r\n    }))\r\n\r\n    return (\r\n        <tbody>\r\n            {props.sortedResult.map((stage, idx) => {\r\n                if (idx > props.renderTo) {\r\n                    return null\r\n                }\r\n\r\n                const itemTd = (items) => (\r\n                    <td>\r\n                        <ItemsContainer>\r\n                            {items.length === 0\r\n                                ? undefined\r\n                                : items.map((item, i) => (\r\n                                    <ItemWrapper key={i}>\r\n                                        <ItemCard id={item.id} />\r\n                                        <StyledBadge pill $rarity={item.rarity}>\r\n                                            {itemString.rarity[item.rarity]}\r\n                                        </StyledBadge>\r\n                                    </ItemWrapper>\r\n                                ))}\r\n                        </ItemsContainer>\r\n                    </td>\r\n                )\r\n\r\n                return (\r\n                    <tr key={idx} ref={idx === props.renderTo ? trRef : undefined}>\r\n                        <td>\r\n                            {`${stage.chapter}-${stage.stage}`}\r\n                        </td>\r\n                        {itemTd(stage.materials)}\r\n                        {itemTd(stage.trainItems)}\r\n                        {itemTd(stage.expPotions)}\r\n                        <td>{stage.energy}</td>\r\n                    </tr>\r\n                )\r\n            })}\r\n        </tbody>\r\n    )\r\n})\r\n\r\nconst TableWrapper = styled(ScrollableContainer)`\r\n    overflow-x: auto;\r\n    height: calc(100vh - 10.4rem);\r\n    padding-right: 0;\r\n    margin-right: 0;\r\n`\r\nconst ItemShowcase = () => {\r\n    const sortFunc = (sortableItems, sortConfig) => {\r\n        const toStageKey = key => {\r\n            return (\r\n                parseInt(key.chapter) * 1000 +\r\n                parseInt(key.stage.split(' ')[0]) * 10 +\r\n                (key.stage.includes('free') ? 1 : 0) +\r\n                (key.stage.includes('-') ? parseInt(key.stage.split('-')[1]) : 0)\r\n            )\r\n        }\r\n\r\n        sortableItems.sort((a, b) => {\r\n            let aKey\r\n            let bKey\r\n            if (sortConfig.key === 'stage') {\r\n                aKey = toStageKey(a)\r\n                bKey = toStageKey(b)\r\n            } else {\r\n                aKey = a[sortConfig.key]\r\n                bKey = b[sortConfig.key]\r\n            }\r\n            if (aKey < bKey) {\r\n                return sortConfig.direction === 'asc' ? -1 : 1\r\n            }\r\n            if (aKey > bKey) {\r\n                return sortConfig.direction === 'asc' ? 1 : -1\r\n            }\r\n            return 0\r\n        })\r\n    }\r\n\r\n    return (\r\n        <TableWrapper>\r\n            <SortableTable\r\n                data={stageDropData}\r\n                head={<TableHead />}\r\n                body={<TableBody />}\r\n                sortFunc={sortFunc}\r\n                defaultSortKey={'stage'}\r\n                border\r\n            />\r\n        </TableWrapper>\r\n    )\r\n}\r\n\r\nexport default ItemShowcase"],"sourceRoot":""}